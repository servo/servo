<!DOCTYPE html>
<script src="../../resources/runner.js"></script>
<pre id="log"></pre>
<!-- We only want to measure layout performance, so try to avoid irrelevant things, such as painting. -->
<div style="overflow:hidden; width:0; height:0;">
  <div id="target" style="columns:2; column-fill:auto; height:100px;">
    <div style="display:table;">
      <div style="display:table;">
        <div style="display:table;">
          <div style="display:table;">
            <div style="display:table;">
              <div style="display:table;">
                <div style="display:table;">
                  <div style="display:table;">
                    <div style="display:table;">
                      <div style="display:table;">
                        <div style="display:table;">
                          <div style="display:table;">
                            <div style="display:table;">
                              <div style="display:table;">
                                <div style="display:table;">
                                  <div style="display:table;">
                                    <div style="height:150px;"></div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<script>
  var target = document.getElementById("target");
  var style = target.style;

  function test() {
    style.display = "none";
    PerfTestRunner.forceLayout();
    style.display = "block";
    PerfTestRunner.forceLayout();
  }

  PerfTestRunner.measureRunsPerSecond({
    description: "Measures performance of multicol layout in deeply nested tables.",
    run: test
  });
</script>
