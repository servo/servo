<html>
<body onload="WebSocketTest()">
<p>This test case tests if the WebSocket connection is closed when the WebSockect connection could not be established.</p>
<div id="result"></div>
<script type="text/javascript">
var e = document.getElementById("result");

function WebSocketTest()
{
    e.innerHTML = "Test: Fail";
    if ("WebSocket" in window)
    {
        // Let us open a web socket
        var ws = new WebSocket("ws://wrong_url");
        ws.onclose = function()
        {
            // websocket is closed.
            e.innerHTML = "Test: Pass";
        };
    } else {
        // The browser doesn't support WebSocket
        e.innerHTML = "Test: Fail";
    }
}
</script>
</body>
</html>
