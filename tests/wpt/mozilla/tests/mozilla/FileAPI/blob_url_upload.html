<!doctype html>
<html class="reftest-wait">
<meta charset="utf-8">
<title>Blob URL with File Upload</title>
<link rel="match" href="blob_url_upload_ref.html">
<script src="/common/reftest-wait.js"></script>

<body>
    <img src="" id="image">
    <!-- Hide the input field as it shows the file name, which will
    introduce differences with the reference file. -->
    <input style="visibility: hidden;" type="file" id="file-input"">
</body>
<script type="text/javascript">
    var inputElement = document.getElementById("file-input");
    inputElement.addEventListener("change", () => {
      var image = document.getElementById("image");

      image.addEventListener("load", () => {
        takeScreenshot();
      });
      image.src = URL.createObjectURL(inputElement.files[0]);
    })
    inputElement.selectFiles(["./tests/wpt/mozilla/tests/mozilla/test.jpg"]);
</script>

</html>
