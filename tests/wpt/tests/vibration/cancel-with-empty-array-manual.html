<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'/>
    <title>Vibration API: cancel ongoing vibrate() with []</title>
    <link rel='author' title='Robin Berjon' href='mailto:robin@berjon.com'/>
    <link rel='help' href='http://www.w3.org/TR/vibration/#methods'/>
    <meta name='flags' content='dom, interact'/>
    <meta name='assert' content='If pattern is an empty list, cancel the pre-existing instance of the processing vibration patterns algorithm'/>
  </head>
  <body>
    <h1>Description</h1>
    <p>
      After hitting the button below, your device must vibrate for a short period of time (roughly one
      second). If it vibrates for a longer time (roughly five seconds, it should feel somewhat long) then
      the test has failed.
    </p>
    <button id='vib'>Vibrate!</button>
    <script>
      if (undefined !== navigator.vibrate) {
          document.getElementById("vib").onclick = function () {
              navigator.vibrate(5000);
              setTimeout(function () {
                  navigator.vibrate([]);
              }, 1000);
          };
      }
    </script>
  </body>
</html>
