<!DOCTYPE html>
<meta charset="utf-8">
<title>iframe for embed-and-object-are-not-intercepted test</title>
<body>
<object type="image/png" data="/images/green.png"></embed>
<script>
// Our parent (the root frame of the test) will examine this to get the result.
var test_promise = new Promise(resolve => {
    if (!navigator.serviceWorker.controller)
      resolve('FAIL: this iframe is not controlled');

    const elem = document.querySelector('object');
    elem.addEventListener('load', e => {
        resolve('request was not intercepted');
      });
    elem.addEventListener('error', e => {
        resolve('FAIL: request was intercepted');
      });
  });
</script>
</body>
