<!doctype html>
<html class="reftest-wait">
<title>Animate a symbol in a display: none subtree 2 </title>
<link rel="match" href="../struct/reftests/reference/green-100x100.html">
<script src="/common/reftest-wait.js"></script>
<script src="/common/rendering-utils.js"></script>
<script>
function test() {
  waitForAtLeastOneFrame().then(takeScreenshot);
}
</script>
<svg>
  <use href="#hidden"/>
</svg>
<svg style="display: none">
  <symbol id="hidden">
    <rect width="100" height="100" fill="red">
      <animate
        attributeName="fill"
        values="red; green"
        keyTimes="0; 0.01"
        dur="1s"
        calcMode="discrete"
        fill="freeze"
        onbegin="test()"/>
    </rect>
  </symbol>
</svg>
