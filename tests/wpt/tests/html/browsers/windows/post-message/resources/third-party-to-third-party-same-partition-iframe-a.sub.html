<!doctype html>
<meta charset=utf-8>
<body>
<script>
// Step 5 (html/browsers/windows/post-message/third-party-to-third-party-same-partition.sub.html)
let site2WindowB;
const listener = e => {
  if (e.data === "Site 2 Frame B") {
    site2WindowB.close();
    window.top.postMessage("Site 2 Frame A", "*");
  }
};
// Step 2 (html/browsers/windows/post-message/third-party-to-third-party-same-partition.sub.html)
window.addEventListener("message", listener);
site2WindowB = window.open("http://{{host}}:{{ports[http][0]}}/html/browsers/windows/post-message/resources/third-party-to-third-party-same-partition-window.sub.html", "", "noopener=false");
</script>
</body>
