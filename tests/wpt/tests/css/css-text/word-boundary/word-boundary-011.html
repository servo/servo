<!DOCTYPE html>
<meta charset="utf-8">
<title>CSS Text level 4 Test: word-boundary-expansion and forced line breaks (br and preserved new lines)</title>
<link rel="author" title="Florian Rivoal" href="http://florian.rivoal.net/">
<link rel="help" href="https://drafts.csswg.org/css-text-4/#word-boundary-expansion">
<link rel="match" href="reference/word-boundary-011-ref.html">
<meta name="assert" content="must not replace instances of U+200B immediately preceding or following a forced line break (br and preserved new lines)">
<style>
div {
  font-size: 2em;
  border: solid blue;
  float: left;
  margin: 1px;
}
.test {
  word-boundary-expansion: ideographic-space;
}
.pre {
	white-space: pre;
}
.mbp span {
  padding: 0 5px;
  border: solid transparent;
  border-width: 0 5px;
  margin: 0 -10px;
}
</style>

<p>Test passes if the all boxes below are identical.

<div class="test">あ<wbr>い<wbr><br><wbr>う</div>
<div class="test">あ&#x200B;い&#x200B;<br>&#x200B;う</div>

<div class="test">あ<wbr>い<span><wbr></span><span></span><span><br></span><span></span><span><wbr></span>う</div>
<div class="test">あ&#x200B;い<span>&#x200B;</span><span></span><span><br></span><span></span><span>&#x200B;</span>う</div>

<div class="test mbp">あ<wbr>い<span><wbr></span><span></span><span><br></span><span></span><span><wbr></span>う</div>
<div class="test mbp">あ&#x200B;い<span>&#x200B;</span><span></span><span><br></span><span></span><span>&#x200B;</span>う</div>

<div class="test pre">あ<wbr>い<wbr>
<wbr>う</div>
<div class="test pre">あ&#x200B;い&#x200B;
&#x200B;う</div>

<div class="test pre">あ<wbr>い<span><wbr></span><span></span><span>
</span><span></span><span><wbr></span>う</div>
<div class="test pre">あ&#x200B;い<span>&#x200B;</span><span></span><span>
</span><span></span><span>&#x200B;</span>う</div>

<div class="test pre mbp">あ<wbr>い<span><wbr></span><span></span><span>
</span><span></span><span><wbr></span>う</div>
<div class="test pre mbp">あ&#x200B;い<span>&#x200B;</span><span></span><span>
</span><span></span><span>&#x200B;</span>う</div>

<div id=ref>あ　い<br>う</div>
