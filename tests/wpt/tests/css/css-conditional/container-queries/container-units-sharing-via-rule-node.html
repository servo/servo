<!doctype html>
<meta charset="utf-8">
<link rel="help" href="https://drafts.csswg.org/css-contain-3/#container-lengths">
<link rel="help" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1835179">
<link rel="author" href="mailto:emilio@crisal.io" title="Emilio Cobos Álvarez">
<link rel="author" href="https://mozilla.org" title="Mozilla">
<link rel="match" href="container-units-sharing-via-rule-node-ref.html">
<style>
.test {
  position: relative;
  z-index: 0;
  border: 1px solid;
  max-width: max-content;
}

.container {
  position: absolute;
  container-type: size;
  inset: 0;
}

.container-content {
  position: absolute;
  top: 0;
  left: 0;
  width: 100cqi;
  height: 100cqb;
  background-color: green;
}

span {
  display: block;
  background-color: red;
}
</style>
<div class="test">
  <div class="container">
    <div class="container-content"></div>
  </div>
  <span style="width: 40px; height: 40px"></span>
</div>
<div class="test">
  <div class="container">
    <div class="container-content"></div>
  </div>
  <span style="width: 100px; height: 100px"></span>
</div>
<div class="test">
  <div class="container">
    <div class="container-content"></div>
  </div>
  <span style="width: 200px; height: 200px"></span>
</div>
