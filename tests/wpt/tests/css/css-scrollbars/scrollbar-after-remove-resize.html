<!doctype html>
<html class="reftest-wait">
<title>Adjust scrollbar length after removing resize control</title>
<link rel="author" href="mailto:perryuwang@gmail.com">
<link rel="help" href="https://issuetracker.google.com/issues/443018675" />
<link rel="match" href="scrollbar-after-remove-resize-ref.html" />
<script src="/common/reftest-wait.js"></script>
<style>
  #scroller {
    width: 300px;
    height: 300px;
    overflow-y: scroll;
    border: 1px solid black;
    resize: both;
  }

  #scroller::-webkit-scrollbar {
    background: pink;
  }
  #scroller::-webkit-scrollbar-thumb {
    background: orange;
  }

  #content {
    width: 100%;
    height: 150%;
    background: lightgray;
  }
</style>

<div id="scroller">
  <div id="content"></div>
</div>

<script>
  requestAnimationFrame(() => requestAnimationFrame(() => {
    const scroller = document.getElementById('scroller');
    scroller.style.resize = 'none';
    requestAnimationFrame(() => requestAnimationFrame(() => {
      takeScreenshot();
    }));
  }));
</script>
