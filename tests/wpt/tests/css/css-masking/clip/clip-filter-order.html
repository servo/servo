<!DOCTYPE html>
<meta charset="utf-8">
<title>Clip should be applied after filtering</title>
<link rel="author" title="Philip Rogers" href="mailto:pdr@chromium.org">
<link rel="help" href="https://drafts.fxtf.org/css-masking-1/#placement">
<link rel="match" href="clip-filter-order-ref.html">

<style>
  body { margin: 0 }
  #testcase {
    position: absolute;
    left: 10px;
    width: 400px;
    height: 400px;
    background: green;
    will-change: transform;
    filter: drop-shadow(16px 16px 20px red);
    clip: rect(0px, 200px, 200px, 0px);
  }
</style>

<div>
  <p>Expected: A green box.<br>
  There should be no red visible.<br>
  There should be a crisp, clipped edge around the green box (no blurring).</p>
</div>

<div id="testcase"></div>
