<!DOCTYPE HTML>
<meta charset="utf-8">
<title>Reference: Ensure shape-outside floats that don't cover their margin-rect affect layout properly</title>
<link rel="author" title="Brad Werth" href="mailto:bwerth@mozilla.com">
<link rel="author" title="Mozilla" href="http://www.mozilla.org/">

<style>
  body {
    margin: 0px;
    line-height: 1;
  }

  .container {
    width: 300px;
    height: 100px;
    background: lightgray;
  }

  .too-wide {
    display: inline-block;
    width: 250px;
    height: 20px;
    background: lightblue;
    clear: left;
  }

  .shape {
    background: black;
    width: 100px;
    height: 100px;
    float: left;
  }

  .spacer {
    clear: left;
    height: 30px;
  }

  .inset {
    background: orange;
  }

  .polygon {
    background: pink;
  }

  .image {
    background: brown;
  }

</style>

<p>All light blue bars should be pushed below the square floats, regardless of how those floats are defined.</p>

<div class="container">
<div class="shape inset">inset(1px) at top</div>
<span class="too-wide"></span>
</div>

<div class="spacer"></div>

<div class="container">
<div class="shape polygon">polygon</div>
<span class="too-wide"></span>
</div>

<div class="spacer"></div>

<div class="container">
<div class="shape image">image</div>
<span class="too-wide"></span>
</div>
