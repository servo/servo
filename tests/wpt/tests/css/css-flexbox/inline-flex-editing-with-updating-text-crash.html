<!DOCTYPE html>
<title>CSS Flexbox: inline-flex layout with updating text and editing operations</title>
<link rel="help" href="https://drafts.csswg.org/css-flexbox/#flex-containers">
<link rel="help" href="https://bugs.webkit.org/show_bug.cgi?id=77772">
<link rel="help" href="https://crbug.com/118662">
<meta name="assert" content="This test ensures that inline-flex layout does not crash with updating text and editing operations.">
<style>#el0::first-letter, #el0:first-child { height: 10px; }</style>
<div id='container' contentEditable>
  <a>
    <img>
    <div id="el0" style="display: inline-flex">
      <pre></pre>
    </div>
  </a>
</div>
<script>
document.querySelector('pre').textContent = 'AA\u0605';
window.getSelection().selectAllChildren(document.getElementById('container'));
document.execCommand('FormatBlock', false, '<h1>');
</script>
