<!DOCTYPE html>
<title>CSS Flexbox: min-height: auto with flex items containing percentage-sized children</title>
<link rel="author" title="Google LLC" href="https://www.google.com/" />
<link rel="help" href="https://drafts.csswg.org/css-flexbox/#min-size-auto" />
<link rel="issue" href="https://bugs.chromium.org/p/chromium/issues/detail?id=998080" />
<link rel="match" href="../reference/ref-filled-green-100px-square.xht" />

<style>
.flexbox {
  display: flex;
  width: 100px;
  height: 0;
  flex-direction: column;
}
.item {
  /* Because flex-basis is 0, we rely on min-height to size this item.
   * We give it an explicit height so that percentages have a chance of
   * resolving. We can't use 0 for the height because the min-height is
   * basically min(height, min-content).  */
  flex: 0 1 0px;
  height: 100px;
  background: green;
}
.percentage {
  height: 100%;
}
.fixed {
  height: 100px;
}

</style>

<p>Test passes if there is a filled green square and <strong>no red</strong>.</p>

<div class="flexbox">
    <div class="item">
        <div class="percentage">
          <div class="fixed"></div>
        </div>
    </div>
</div>

