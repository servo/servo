<!doctype html>
<head>
<link rel=match href="cross-shadow-boundary-img-ref.html">
</head>
OuterText1
<div id="host1"></div>
OuterText2
<div id="host2"></div>
OuterText3
<script>
  const root1 = document.getElementById("host1").attachShadow({ mode: "open" });
  root1.innerHTML = "innerText1";

  const root2 = document.getElementById("host2").attachShadow({ mode: "open" });
  root2.innerHTML = "<div></div>";

  const root3 = root2.querySelector("div").attachShadow({ mode: "open" });
  root3.innerHTML = "<img>";

  const img = root3.querySelector("img");
  img.style.width = "10px";
  img.style.height = "10px";
  img.style.backgroundColor = "black";

  getSelection().setBaseAndExtent(document.body.firstChild, 3, document.body.childNodes[4], 3);
</script>
