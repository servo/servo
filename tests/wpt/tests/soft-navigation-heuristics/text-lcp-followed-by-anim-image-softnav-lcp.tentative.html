<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<title>Detect simple soft navigation.</title>
<script src="/resources/testharness.js"></script>
<script src="/resources/testharnessreport.js"></script>
<script src="/resources/testdriver.js"></script>
<script src="/resources/testdriver-vendor.js"></script>
<script src="resources/soft-navigation-helper.js"></script>
</head>
<body>
  <main id=main>
    <div>
      <a id=link style="font-size: 4em">Click me!</a>
    </div>
  </main>
  <script>
    const link = document.getElementById("link");
    testSoftNavigation({
      addContent: async () => {
        const main = document.getElementById("main");
        main.removeChild(document.getElementsByTagName("div")[0]);
        const img = new Image(500, 500);
        img.src = "/images/anim-gr.png?" + Math.random();
        img.id = "imagelcp";
        img.setAttribute("elementtiming", "imagelcp");
        main.appendChild(img);
      },
      link: link,
      test: "Test that a text LCP followup by an animaged image "
        + " properly queues a soft navigation entry"});
  </script>
</body>
</html>
