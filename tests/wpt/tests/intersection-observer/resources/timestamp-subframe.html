<!DOCTYPE html>
<style>
#target {
  width: 100px;
  height: 100px;
  background-color: green;
}
.spacer {
  width: height: 100px
}
</style>

<div class="spacer"></div>
<div id="target"></div>
<div class="spacer"></div>

<script>
document.createObserverCallback = function(entries) {
  return function(newEntries) {
    for (var i in newEntries) {
      entries.push(newEntries[i]);
    }
  };
}
document.createObserver = function(callback) {
  return new IntersectionObserver(callback, {});
};
</script>
