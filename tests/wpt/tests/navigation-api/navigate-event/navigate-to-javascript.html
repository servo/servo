<!doctype html>
<script src="/resources/testharness.js"></script>
<script src="/resources/testharnessreport.js"></script>
<iframe id="iframe" name="i" src="/common/blank.html"></iframe>

<script>
async_test(t => {
  window.onload = t.step_func(() => {
    navigation.onnavigate = t.unreached_func("onnavigate should not have fired in source window");

    iframe.contentWindow.navigation.onnavigate = t.unreached_func("onnavigate should not have fired in iframe window");

    iframe.contentWindow.location.href = "javascript:'foo'";

    iframe.onload = () => t.done();
  });
}, "navigate event does not fire for javascript: URL navigations");
</script>
