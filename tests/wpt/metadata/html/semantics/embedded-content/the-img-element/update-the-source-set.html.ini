[update-the-source-set.html]
  type: testharness
  [<img data-expect="">]
    expected: FAIL

  [<img src="" data-expect="">]
    expected: FAIL

  [<img src="data:,a" data-expect="data:,a">]
    expected: FAIL

  [<img srcset="" src="data:,a" data-expect="data:,a">]
    expected: FAIL

  [<img srcset="data:,b" src="data:,a" data-expect="data:,b">]
    expected: FAIL

  [<img src="data:,a" srcset="data:,b" data-expect="data:,b"><!-- srcset after src -->]
    expected: FAIL

  [<img src="data:,a" srcset="data:,b 1x" data-expect="data:,b">]
    expected: FAIL

  [<img src="data:,a" srcset="data:,b 1.0x" data-expect="data:,b">]
    expected: FAIL

  [<img src="data:,a" srcset="data:,b 1e0x" data-expect="data:,b">]
    expected: FAIL

  [<img src="data:,a" srcset="data:,b 10000w" sizes="1px" data-expect="data:,b">]
    expected: FAIL

  [<img src="data:,a" srcset="data:,b 10000w, data:,c 10000x" sizes="1px" data-expect="data:,b">]
    expected: FAIL

  [<img src="data:,a" srcset="data:,b 10000x, data:,c 10000w" sizes="1px" data-expect="data:,b">]
    expected: FAIL

  [<img src="data:,a" srcset="data:,b 1w" sizes="10000px" data-expect="data:,b">]
    expected: FAIL

  [<img src="data:,a" srcset="data:,b 1w, data:,c 0.0001x" sizes="10000px" data-expect="data:,b">]
    expected: FAIL

  [<img src="data:,a" srcset="data:,b 0.0001x, data:,c 1w" sizes="10000px" data-expect="data:,b">]
    expected: FAIL

  [<img srcset="data:,a" data-expect="data:,a">]
    expected: FAIL

  [<picture></picture>foo<img src="data:,a" data-expect="data:,a">]
    expected: FAIL

  [<picture></picture><!--foo--><img src="data:,a" data-expect="data:,a">]
    expected: FAIL

  [<picture></picture><br><img src="data:,a" data-expect="data:,a">]
    expected: FAIL

  [<picture></picture><p></p><img src="data:,a" data-expect="data:,a">]
    expected: FAIL

  [<picture></picture><video></video><source srcset="data:,b"><img src="data:,a" data-expect="data:,a">]
    expected: FAIL

  [<picture></picture><span></span><source srcset="data:,b"><img src="data:,a" data-expect="data:,a">]
    expected: FAIL

  [<picture></picture><img src="data:,a"><img src="data:,b" data-expect="data:,b">]
    expected: FAIL

  [<picture></picture><img src="data:,a" data-expect="data:,a">foo]
    expected: FAIL

  [<picture></picture><img src="data:,a" data-expect="data:,a"><br>]
    expected: FAIL

  [<picture></picture><img src="data:,a" data-expect="data:,a"><!--foo-->]
    expected: FAIL

  [<picture></picture><img src="data:,a" data-expect="data:,a"><img src="data:,b">]
    expected: FAIL

  [<picture></picture><img data-expect=""><img src="data:,b">]
    expected: FAIL

  [<picture></picture><img src="data:,a" data-expect="data:,a"><source srcset="data:,b">]
    expected: FAIL

  [<picture></picture><img data-expect=""><source srcset="data:,b">]
    expected: FAIL

  [<picture></picture><svg></svg><source srcset="data:,b"><img src="data:,a" data-expect="data:,a">]
    expected: FAIL

  [<picture></picture><svg></svg><source srcset="data:,b"><img src="data:,a" data-expect="data:,b">]
    expected: FAIL

  [<picture></picture><svg></svg><!--<font face> tag breaks out of svg--><font face=""></font><source srcset="data:,b"><img src="data:,a" data-expect="data:,b">]
    expected: FAIL

  [<picture></picture><source><img src="data:,a" data-expect="data:,a">]
    expected: FAIL

  [<picture></picture><source src="data:,b"><img src="data:,a" data-expect="data:,a">]
    expected: FAIL

  [<picture></picture><source srcset=""><img src="data:,a" data-expect="data:,a">]
    expected: FAIL

  [<picture></picture><source srcset=", ,"><img src="data:,a" data-expect="data:,a">]
    expected: FAIL

  [<picture></picture><source srcset="data:,b 1x 1x"><img src="data:,a" data-expect="data:,a">]
    expected: FAIL

  [<picture></picture><source srcset="data:,b" media=""><img src="data:,a" data-expect="data:,b">]
    expected: FAIL

  [<picture></picture><source srcset="data:,b" media="all"><img src="data:,a" data-expect="data:,b">]
    expected: FAIL

  [<picture></picture><source srcset="data:,b" media="all and (min-width:0)"><img src="data:,a" data-expect="data:,b">]
    expected: FAIL

  [<picture></picture><source srcset="data:,b" media="all and !"><img src="data:,a" data-expect="data:,a">]
    expected: FAIL

  [<picture></picture><source srcset="data:,b" media="all and (!)"><img src="data:,a" data-expect="data:,a">]
    expected: FAIL

  [<picture></picture><source srcset="data:,b" media="not all"><img src="data:,a" data-expect="data:,a">]
    expected: FAIL

  [<picture></picture><source srcset="data:,b" media="not all and (min-width:0)"><img src="data:,a" data-expect="data:,a">]
    expected: FAIL

  [<picture></picture><source srcset="data:,b" media="not all and (max-width:0)"><img src="data:,a" data-expect="data:,b">]
    expected: FAIL

  [<picture></picture><source srcset="data:,b" media="not all and !"><img src="data:,a" data-expect="data:,a">]
    expected: FAIL

  [<picture></picture><source srcset="data:,b" media="not all and (!)"><img src="data:,a" data-expect="data:,a">]
    expected: FAIL

  [<picture></picture><source srcset="data:,b" media="all, !"><img src="data:,a" data-expect="data:,b">]
    expected: FAIL

  [<picture></picture><source srcset="data:,b" media=","><img src="data:,a" data-expect="data:,a">]
    expected: FAIL

  [<picture></picture><source srcset="data:,b" media=", all"><img src="data:,a" data-expect="data:,b">]
    expected: FAIL

  [<picture></picture><source srcset="data:,b" type=""><img src="data:,a" data-expect="data:,b">]
    expected: FAIL

  [<picture></picture><source srcset="data:,b" type=" "><img src="data:,a" data-expect="data:,b">]
    expected: FAIL

  [<picture></picture><source srcset="data:,b" type="image/gif"><img src="data:,a" data-expect="data:,b">]
    expected: FAIL

  [<picture></picture><source srcset="data:,b" type=" image/gif"><img src="data:,a" data-expect="data:,b">]
    expected: FAIL

  [<picture></picture><source srcset="data:,b" type="image/gif "><img src="data:,a" data-expect="data:,b">]
    expected: FAIL

  [<picture></picture><source srcset="data:,b" type="image/gif;"><img src="data:,a" data-expect="data:,b">]
    expected: FAIL

  [<picture></picture><source srcset="data:,b" type="image/gif;encodings"><img src="data:,a" data-expect="data:,b">]
    expected: FAIL

  [<picture></picture><source srcset="data:,b" type="image/gif;encodings="><img src="data:,a" data-expect="data:,b">]
    expected: FAIL

  [<picture></picture><source srcset="data:,b" type="image/gif;encodings=foobar"><img src="data:,a" data-expect="data:,b">]
    expected: FAIL

  [<picture></picture><source srcset="data:,b" type="image/png"><img src="data:,a" data-expect="data:,b">]
    expected: FAIL

  [<picture></picture><source srcset="data:,b" type="image/jpeg"><img src="data:,a" data-expect="data:,b">]
    expected: FAIL

  [<picture></picture><source srcset="data:,b" type="image/svg+xml"><img src="data:,a" data-expect="data:,b">]
    expected: FAIL

  [<picture></picture><source srcset="data:,b" type="image/x-icon"><img src="data:,a" data-expect="data:,b">]
    expected: FAIL

  [<picture></picture><source srcset="data:,b" type="text/xml"><img src="data:,a" data-expect="data:,a">]
    expected: FAIL

  [<picture></picture><source srcset="data:,b" type="text/html"><img src="data:,a" data-expect="data:,a">]
    expected: FAIL

  [<picture></picture><source srcset="data:,b" type="text/plain"><img src="data:,a" data-expect="data:,a">]
    expected: FAIL

  [<picture></picture><source srcset="data:,b" type="text/css"><img src="data:,a" data-expect="data:,a">]
    expected: FAIL

  [<picture></picture><source srcset="data:,b" type="video/mp4"><img src="data:,a" data-expect="data:,a">]
    expected: FAIL

  [<picture></picture><source srcset="data:,b" type="video/ogg"><img src="data:,a" data-expect="data:,a">]
    expected: FAIL

  [<picture></picture><source srcset="data:,b" type="video/webm"><img src="data:,a" data-expect="data:,a">]
    expected: FAIL

  [<picture></picture><source srcset="data:,b" type="unknown/unknown"><img src="data:,a" data-expect="data:,a">]
    expected: FAIL

  [<picture></picture><source srcset="data:,b" type="application/octet-stream"><img src="data:,a" data-expect="data:,a">]
    expected: FAIL

  [<picture></picture><source srcset="data:,b" type="application/x-shockwave-flash"><img src="data:,a" data-expect="data:,a">]
    expected: FAIL

  [<picture></picture><source srcset="data:,b" type="image\\gif"><img src="data:,a" data-expect="data:,a">]
    expected: FAIL

  [<picture></picture><source srcset="data:,b" type="gif"><img src="data:,a" data-expect="data:,a">]
    expected: FAIL

  [<picture></picture><source srcset="data:,b" type=".gif"><img src="data:,a" data-expect="data:,a">]
    expected: FAIL

  [<picture></picture><source srcset="data:,b" type="*"><img src="data:,a" data-expect="data:,a">]
    expected: FAIL

  [<picture></picture><source srcset="data:,b" type="*/*"><img src="data:,a" data-expect="data:,a">]
    expected: FAIL

  [<picture></picture><source srcset="data:,b" type="image/*"><img src="data:,a" data-expect="data:,a">]
    expected: FAIL

  [<picture></picture><source srcset="data:,b" type=","><img src="data:,a" data-expect="data:,a">]
    expected: FAIL

  [<picture></picture><source srcset="data:,b" type="image/gif, image/png"><img src="data:,a" data-expect="data:,a">]
    expected: FAIL

  [<picture></picture><source srcset="data:,b" type="image/gif image/png"><img src="data:,a" data-expect="data:,a">]
    expected: FAIL

  [<picture></picture><source srcset="data:,b" type="image/foobarbaz"><img src="data:,a" data-expect="data:,a">]
    expected: FAIL

  [<picture></picture><span></span><source srcset="data:,b"><img data-expect="">]
    expected: FAIL

  [<picture></picture><source srcset="data:,b"><span></span><img src="data:,a" data-expect="data:,a">]
    expected: FAIL

  [<picture></picture><source srcset="data:,b"><img data-expect="data:,b">]
    expected: FAIL

  [<picture></picture><svg></svg><font></font><source srcset="data:,b"><font></font><img src="data:,a" data-expect="data:,a">]
    expected: FAIL

