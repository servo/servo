<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

 <head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

  <title>CSS Writing Modes Test: 'caption-side: bottom' and vertical-rl</title>
  <style type="text/css">
    @page { font: italic 8pt sans-serif; color: gray;
            margin: 7%;
            counter-increment: page;
            @top-left { content: "CSS Writing Modes Module Level 3 CR Test Suite"; }
            @top-right { content: "Test caption-side-vrl-004"; }
            @bottom-right { content: counter(page); }
          }
</style>

  <link rel="author" title="GÃ©rard Talbot" href="http://www.gtalbot.org/BrowserBugsSection/css21testsuite/" />
  <link rel="help" href="http://www.w3.org/TR/css-writing-modes-3/#caption-side" title="7.7 Table Caption Mappings: the caption-side keywords" />

  <meta content="ahem image" name="flags" />
  <meta content="This test checks that when 'caption-side' is set to 'bottom' in a vertical-rl table and if the rendering engine does not support side captions (i.e. left and right captions in horizontal writing modes), then the caption is placed at the block-start side of the table, which is on the righthand side of such table. If the rendering engine supports side captions, then the rendering engine must place the caption at the physical bottom (logical right) side of the table box." name="assert" />

  <style type="text/css"><![CDATA[
  table#test
    {
      border-spacing: 0px;
      caption-side: bottom;
      font: 1.5624em/1 Ahem; /* computes to 25px/25px */
      writing-mode: vertical-rl;
    }

  caption
    {
      color: blue;
    }

  td
    {
      color: orange;
      padding: 0px;
    }

  div.reference
    {
      margin-top: 1em;
    }

  img
    {
      vertical-align: top;
    }
  ]]></style>

 </head>

 <body>

  <p>Test passes if the top bi-colored rectangle has a layout identical to one of the bi-colored rectangles below it.</p>

  <table id="test">
    <caption>CA</caption>
    <tr>
      <td>T</td><td>D</td>
    </tr>
  </table>

  <div class="reference" id="does-NOT-support-side-captions"><img src="support/swatch-orange.png" width="25" height="50" alt="Image download support must be enabled" /><img src="support/swatch-blue.png" width="25" height="50" alt="Image download support must be enabled" /></div>

  <div class="reference" id="supports-side-captions"><img src="support/swatch-orange.png" width="25" height="50" alt="Image download support must be enabled" /><br /><img src="support/swatch-blue.png" width="25" height="50" alt="Image download support must be enabled" /></div>

 </body>
</html>