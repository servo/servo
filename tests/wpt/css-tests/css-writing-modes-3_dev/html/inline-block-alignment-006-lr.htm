<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
  <head>
    <title>CSS Writing Modes Test: inline-block alignment - inline-block without content (central alignment with vertical layout)</title>
    <link rel="author" title="Hajime Shiozawa" href="mailto:hajime.shiozawa@gmail.com">
    <link rel="help" title="CSS3 Writing modes: 4.3. Atomic Inline Baseline" href="http://www.w3.org/TR/css-writing-modes-3/#replaced-baselines">
    <link rel="help" title="CSS2.1 9.2.2 Inline-level elements and inline boxes" href="http://www.w3.org/TR/CSS21/visuren.html#inline-boxes">
    <meta name="assert" content="This test checks the generation of empty inline-block baseline. When 'writing-mode' is vertical and when 'text-orientation' is 'mixed', 'upright' or 'use-glyph-orientation', then the central baseline is used as the dominant baseline.">
    <meta name="flags" content="ahem image">
    <style type="text/css">
      div > p {
        font: 40px/1 "Ahem";
        background-color: orange;
      }
      .baseline {
        margin-top: -300px;
      }

      /* writing-mode property */
      .vertical-lr {
        writing-mode: vertical-lr;
      }

      /* text-orientation property */
      .mixed {
        text-orientation: mixed;
      }
      .upright {
        text-orientation: upright;
      }
      .use-glyph-orientation {
        text-orientation: use-glyph-orientation;
      }

      /* inline-block */
      .inline-block {
        display: inline-block;
      }
      .descendant-block {
        display: block;
        background-color: yellow;
      }

      /* font */
      .half {
        vertical-align: text-top;
        font-size: 0.5em;
      }
  </style>
  </head>
  <body>
    <p>Test passes if ...</p>
    <ol>
      <li>the <strong>left</strong> edge of black stripe is touching a thin blue line in each 3 orange rectangles and</li>
      <li>all 3 orange rectangles are <strong>identical</strong>.</li>
    </ol>
    <div class="vertical-lr">
      <p class="mixed"><span class="half">OUTSIDE</span><span class="inline-block">
          <span class="descendant-block"><img src="support/right-side-filled-square-40x160.png" alt="Image download support must be enabled"></span>
          <span class="descendant-block"><img src="support/opaque-square-40x160.png" alt="Image download support must be enabled"></span>
        </span><img class="baseline" src="support/blue-vert-line-1x320.png" alt="Image download support must be enabled"></p>
      <p class="upright"><span class="half">OUTSIDE</span><span class="inline-block">
          <span class="descendant-block"><img src="support/right-side-filled-square-40x160.png" alt="Image download support must be enabled"></span>
          <span class="descendant-block"><img src="support/opaque-square-40x160.png" alt="Image download support must be enabled"></span>
        </span><img class="baseline" src="support/blue-vert-line-1x320.png" alt="Image download support must be enabled"></p>
      <p class="use-glyph-orientation"><span class="half">OUTSIDE</span><span class="inline-block">
          <span class="descendant-block"><img src="support/right-side-filled-square-40x160.png" alt="Image download support must be enabled"></span>
          <span class="descendant-block"><img src="support/opaque-square-40x160.png" alt="Image download support must be enabled"></span>
        </span><img class="baseline" src="support/blue-vert-line-1x320.png" alt="Image download support must be enabled"></p>
    </div>
  </body>
</html>