<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>
<meta charset="utf-8" />
<title>CSS Test: GCPM string-set on element with display: none</title>
<link href="mailto:dauwhe@gmail.com" rel="author" title="Dave Cramer" />
<link href="http://www.w3.org/TR/css-gcpm-3/#setting-named-strings-the-string-set-pro" rel="help" />
<meta content="paged" name="flags" />
<meta content="Test checks that a string can be set to the value of an element even if display is set to none" name="assert" />
<!--
Note this test exposes a known bug in PrinceXML 9.0 rev 2 (and all previous versions)
-->
<style>
  @page {
   @top-center {
   content: string(title);
   }
  }

 h1 {
 string-set: title content();
 display: none;
 }

#d2 { page-break-before: always; }

</style>
</head>
<body>
<h1>Chapter One Title</h1>
<p>Note: test has two pages</p>
<p>Test passes if:</p>
<ol>
<li>
“Chapter One Title” appears in the running head on page one.
</li>
<li>
“Chapter Two Title” appears in the running head on page two.
</li>
</ol>

<div id="d2">
<h1>Chapter Two Title</h1>
<p>Second Page</p>
</div>


</body></html>