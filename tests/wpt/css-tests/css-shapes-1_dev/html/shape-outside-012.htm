<!DOCTYPE html>
<html><head>
    <title>CSS Test: Shape from image - shape-image-threshold - 0.9</title>
    <link href="mailto:rhauck@adobe.com" rel="author" title="Rebecca Hauck">
    <link href="mailto:bemjb@adobe.com" rel="author" title="Bem Jones-Bey">
    <link href="http://www.w3.org/TR/css-shapes-1/#shapes-from-image" rel="help">
    <link href="http://www.w3.org/TR/css-shapes-1/#shape-outside-property" rel="help">
    <link href="http://www.w3.org/TR/css-shapes-1/#shape-image-threshold-property" rel="help">
    <link href="reference/shape-outside-012-ref.htm" rel="match">
    <meta content="ahem dom" name="flags">
    <meta content="This test verifies content flows around a shape that is
                                 defined in the image's alpha channel and adjusted by the
                                 image-threshold" name="assert">
    <!-- This test is derived from Example 7 in this version of the spec:
         http://www.w3.org/TR/2014/WD-css-shapes-1-20140211/ -->
    <style type="text/css">
        .container {
          width: 400px;
          font-family: Ahem;
          font-size: 20px;
          line-height: 2em;
        }
        #test {
            color: green;
        }
        #test-image {
            float: left;
            shape-outside: url("support/circle-shadow.png");
            shape-image-threshold: 0.9;
        }
    </style>
    <script src="/resources/testharness.js"></script>
    <script src="/resources/testharnessreport.js"></script>
    <script src="support/spec-example-utils.js"></script>
</head>
<body>
    <p>
        The test passes if the short green horizontal bars are the right of the circle, all
        intersect the shadow, none intersect the circle and the long green bar is beneath the
        circle. There should be no red.
    </p>
    <div class="container" id="test">
        <img src="support/circle-shadow.png" id="test-image">
        <span id="line-0">XXXXXX</span>
        <span id="line-1">XXXXXX</span>
        <span id="line-2">XXXXXX</span>
        <span id="line-3">XXXXXX</span>
        <span id="line-4">XXXXXX</span>
        <span id="line-5">XXXXXXXXXXXXXXX</span>
    </div>
    <div id="log"></div>
    <script>
        approxShapeTest('test', 'line-', 2, [181, 199, 201, 199, 181, 0]);
    </script>


</body></html>