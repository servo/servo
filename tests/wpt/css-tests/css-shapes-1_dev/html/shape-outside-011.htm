<!DOCTYPE html>
<html><head>
    <title>CSS Test: Shape from image - url(), alpha channel, opacity &gt; 0</title>
    <link href="mailto:rhauck@adobe.com" rel="author" title="Rebecca Hauck">
    <link href="mailto:bemjb@adobe.com" rel="author" title="Bem Jones-Bey">
    <link href="http://www.w3.org/TR/css-shapes-1/#shapes-from-image" rel="help">
    <link href="http://www.w3.org/TR/css-shapes-1/#shape-outside-property" rel="help">
    <meta content="ahem dom" name="flags">
    <meta content="This test verifies that the content flows around the
                                 shape defined in the images alpha channel that has some
                                 opacity." name="assert">
    <!-- This test is derived from Example 7 in this version of the spec:
         http://www.w3.org/TR/2014/WD-css-shapes-1-20140211/ -->
    <style type="text/css">
        .container {
          width: 400px;
          font-family: Ahem;
          font-size: 20px;
          line-height: 2em;
        }
        #test {
            color: green;
        }
        #image {
            float: left;
            shape-outside: url("support/circle-shadow.png");
        }
    </style>
    <script src="/resources/testharness.js"></script>
    <script src="/resources/testharnessreport.js"></script>
    <script src="support/spec-example-utils.js"></script>
</head>
<body>
    <p>
        The test passes if the green horizontal bars are to the right of the circle,
        and no bars intersect the circle's shadow. There should be no red.
    </p>
    <div class="container" id="test">
        <img src="support/circle-shadow.png" id="image">
        <span id="line-0">XXXXXX</span>
        <span id="line-1">XXXXXX</span>
        <span id="line-2">XXXXXX</span>
        <span id="line-3">XXXXXX</span>
        <span id="line-4">XXXXXX</span>
        <span id="line-5">XXXXXX</span>
    </div>
    <div id="log"></div>
    <script>
        approxShapeTest('test', 'line-', 2, [218, 236, 238, 236, 218, 160]);
    </script>


</body></html>