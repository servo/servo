<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>CSS Writing Modes Test: vertical align - 'negative length (-20%)' (alphabetical baseline with vertical layout)</title>
  <style type="text/css">
    @page { font: italic 8pt sans-serif; color: gray;
            margin: 7%;
            counter-increment: page;
            @top-left { content: "CSS 2.1 Conformance Test Suite"; }
            @top-right { content: "Test vertical-alignment-026b"; }
            @bottom-right { content: counter(page); }
          }
</style>
    <link rel="author" title="Hajime Shiozawa" href="mailto:hajime.shiozawa@gmail.com" />
    <link rel="help" title="4.4. Baseline Alignment" href="http://www.w3.org/TR/css-writing-modes-3/#baseline-alignment" />
    <link rel="help" title="10.8 Line height calculations: the 'line-height' and 'vertical-align' properties" href="http://www.w3.org/TR/CSS21/visudet.html#line-height" />
    <meta name="assert" content="This test checks the generation of text baseline with vertical align property. When 'writing-mode' is vertical and when 'text-orientation' is 'sideways-left', 'sideways-right' or 'sideways', then the central baseline is used as the dominant baseline." />
    <meta name="flags" content="ahem image" />
    <style type="text/css"><![CDATA[
      div > p {
        margin-top: 1em;
        padding-left: 0.2em;
        font: 40px/1 "Ahem";
        background-color: orange;
      }

      /* vertical-align */
      img {
        vertical-align: -20%;
      }
      img.line {
        margin-top: -230px;
      }

      /* writing-mode property */
      .vertical-lr {
        writing-mode: vertical-lr;
      }
      .vertical-rl {
        writing-mode: vertical-rl;
      }

      /* text-orientation property */
      .sideways-right {
        text-orientation: sideways-right;
      }
      .sideways {
        text-orientation: sideways;
      }
  ]]></style>
  </head>
  <body>
    <p>Test passes if ...</p>
    <ol>
      <li>the <strong>left</strong> edge of black stripe is touching a thin blue line in each 3 orange rectangles and</li>
      <li>the <strong>left</strong> edge of yellow square is aligned to a thin blue line in each 3 orange rectangles and</li>
      <li>all 3 orange rectangles are <strong>identical</strong>.</li>
    </ol>

    <div class="vertical-rl">
      <p class="sideways-right">SIDER
        <img class="square" src="./support/yellow-square-vert-redline-left-59x59.png" alt="Image download support must be enabled" />
        <img class="line" src="./support/blue-vert-line-1x220.png" alt="Image download support must be enabled" />
      </p>
      <p class="sideways">SIDEW
        <img class="square" src="./support/yellow-square-vert-redline-left-59x59.png" alt="Image download support must be enabled" />
        <img class="line" src="./support/blue-vert-line-1x220.png" alt="Image download support must be enabled" />
      </p>
    </div>
    <div class="vertical-lr">
      <p class="sideways-right">SIDER
        <img class="square" src="./support/yellow-square-vert-redline-left-59x59.png" alt="Image download support must be enabled" />
        <img class="line" src="./support/blue-vert-line-1x220.png" alt="Image download support must be enabled" />
      </p>
    </div>
  </body>
</html>