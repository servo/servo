<!doctype html>
<meta charset=utf-8>
<title>CSS Test: symbol referenced in a use shadow tree should actually be a symbol</title>
<link rel="author" title="Emilio Cobos Ãlvarez" href="mailto:emilio@crisal.io">
<link rel="help" href="https://svgwg.org/svg2-draft/struct.html#SymbolNotes">
<link rel="help" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1547619">
<link rel="match" href="/svg/linking/reftests/use-descendant-combinator-ref.html">
<p>
  You should see a green square, and no red.
</p>
<style>
rect {
  fill: red;
}
symbol rect {
  fill: green;
}
</style>
<svg
  version="1.1"
  xmlns="http://www.w3.org/2000/svg"
  xmlns:xlink="http://www.w3.org/1999/xlink">
  <defs>
    <symbol id="square">
      <rect width="100" height="100"/>
    </symbol>
  </defs>
  <g id="test">
    <use xlink:href="#square" fill="green" />
  </g>
</svg>
