<!DOCTYPE html>
<meta charset="utf-8">
<title>CSS Display: Dynamic changes to ::before and ::after on display:contents when ::first-letter is in effect</title>
<link rel="author" title="Emilio Cobos Álvarez" href="mailto:ecobos@igalia.com">
<link rel="help" href="https://drafts.csswg.org/css-display-3/#valdef-display-contents">
<link rel="match" href="display-contents-pass-green-no-red-ref.html">
<style>
    div { color: blue; }
    div::first-letter { color: red; }
    div::before { display: contents; content: "PASS"; border: 1px solid red; }
    .active div::before,
    .active div::first-letter { color: green; }
</style>
<p>You should see the word PASS in green and no red below.</p>
<div></div>
<script>
document.body.offsetTop;
document.body.className = "active";
</script>
