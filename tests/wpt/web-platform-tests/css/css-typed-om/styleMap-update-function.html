<!DOCTYPE html>
<meta charset="utf-8">
<title>styleMap objects provide an 'update' function</title>
<meta name="author" title="Shane Stephens">
<script src="/resources/testharness.js"></script>
<script src="/resources/testharnessreport.js"></script>
<body>
  <div id='element'></div>
  <div id="log"></div>
  <script>
    test(function() {
      element.attributeStyleMap.set('width', new CSSUnitValue(42, 'px'));
      element.attributeStyleMap.update('width', length => new CSSUnitValue(length.value + 20, length.unit))
      assert_equals(element.attributeStyleMap.get('width').value, 62, 'update expected to apply callback to old value in map');
    });
  </script>

