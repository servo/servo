<!DOCTYPE html>
...
<script>
var p = new DOMParser(), s = new XMLSerializer();
var doc = p.parseFromString("<!DOCTYPE foo [ <!ELEMENT foo (#PCDATA)> ]><foo/>", "text/xml")
w(s.serializeToString(doc))
</script>
<table>
<caption>Results</caption>
<thead>
<tr><th>UA<th>Result
<tbody>
<tr><th>Gecko<td><code>&lt;!DOCTYPE foo [ &lt;!ELEMENT foo (#PCDATA)> ]>\n&lt;foo/></code>
<tr><th>WebKit<td><code>&lt;!DOCTYPE foo>&lt;foo/></code>
<tr><th>Presto<td><code>&lt;?xml version="1.0"?>&lt;!DOCTYPE foo>&lt;foo/></code>
</table>
