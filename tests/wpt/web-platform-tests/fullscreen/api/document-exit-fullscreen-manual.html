<!DOCTYPE html>
<title>Document#exitFullscreen()</title>
<script src="/resources/testharness.js"></script>
<script src="/resources/testharnessreport.js"></script>
<script src="../trusted-click.js"></script>
<div id="log"></div>
<script>
async_test(function(t)
{
    var div = document.querySelector("div");
    trusted_request(t, div);

    document.addEventListener("fullscreenchange", t.step_func(function(event)
    {
        if (document.fullscreenElement) {
            document.exitFullscreen();
        } else {
            assert_equals(event.target, div, "event.target");
            assert_true(event.bubbles, "event.bubbles");
            assert_false(event.cancelable, "event.cancelable");
            assert_true(event.composed, "event.composed");
            t.done();
        }
    }));
});
</script>
