<body>
<p class="desc"> Test to ensure beginlayer works for filter, alpha and shadow, even with consecutive layers. </p>
<script>
var canvas, ctx;
canvas = document.createElement("canvas");
canvas.width = 500;
canvas.height = 500;
document.body.appendChild(canvas);

ctx = canvas.getContext("2d");
ctx.fillStyle = 'rgba(0,0,255,1)';
ctx.fillRect(50,50,95,70);

ctx.globalAlpha = 0.5;
ctx.filter = 'sepia(0.5)';
ctx.shadowOffsetX = -10;
ctx.shadowOffsetY = 10;
ctx.shadowColor = 'orange';


for(let i=0; i<5; i++){
  ctx.beginLayer();

  ctx.fillStyle = 'rgba(225,0,0,1)';
  ctx.fillRect(60+i,40+i,75,50);
  ctx.fillStyle = 'rgba(0,255,0,1)';
  ctx.fillRect(80+i,60+i,75,50);

  ctx.endLayer();
}

</script>
</body>
