<!DOCTYPE html>
<link rel="author" title="Dom Farolino" href="mailto:dom@chromium.org">
<link rel="help" href="https://html.spec.whatwg.org/multipage/#the-link-element">
<script src="/resources/testharness.js"></script>
<script src="/resources/testharnessreport.js"></script>
<link id=link rel=stylesheet id=style_test
      onload="t.unreached_func('Sheet should fail to load')">
<script>
  var t = async_test("Check if the <link>'s error event fires for each style " +
                     "sheet it fails to load");

  link.onerror = t.step_func(() => {
    link.onerror = t.step_func_done(() => {});
    link.href = 'nonexistent.css?second';
  });

  link.href = 'nonexistent.css?first';
</script>

</head>
</html>
