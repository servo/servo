<!DOCTYPE HTML>
<meta charset="utf-8">
<link rel=author href="mailto:masonf@chromium.org">
<link rel=help href="https://open-ui.org/components/popup.research.explainer">
<script src=/resources/testharness.js></script>
<script src=/resources/testharnessreport.js></script>
<script src=/resources/WebIDLParser.js></script>
<script src=/resources/idlharness.js></script>

<div id=p1 popover></div>
<div id=p2 popover=auto></div>
<div id=p3 popover=manual></div>
<button id=b1 popovertoggletarget=p1></button>
<button id=b2 popoverhidetarget=p2></button>
<button id=b3 popovershowtarget=p3></button>
<input id=i1 type=button popovertoggletarget=p1></input>
<input id=i2 type=button popoverhidetarget=p2></input>
<input id=i3 type=button popovershowtarget=p3></input>

<script type="module">
'use strict';

idl_test(
  ['popover'],
  ['html','dom'],
  idl_array => {
    idl_array.add_objects({
      HTMLElement: [
        'document.getElementById("p1")',
        'document.getElementById("p2")',
        'document.getElementById("p3")',
      ],
      HTMLInputElement: [
        'document.getElementById("i1")',
        'document.getElementById("i2")',
        'document.getElementById("i3")',
      ],
      HTMLButtonElement: [
        'document.getElementById("b1")',
        'document.getElementById("b2")',
        'document.getElementById("b3")',
      ],
      BeforeToggleEvent: [
        'new ToggleEvent("beforetoggle")',
        'new ToggleEvent("beforetoggle", {oldState: "open"})',
        'new ToggleEvent("beforetoggle", {oldState: "open",newState: "open"})',
        'new ToggleEvent("toggle")',
        'new ToggleEvent("toggle", {oldState: "open"})',
        'new ToggleEvent("toggle", {oldState: "open",newState: "open"})',
      ],
    });
  }
);
</script>
