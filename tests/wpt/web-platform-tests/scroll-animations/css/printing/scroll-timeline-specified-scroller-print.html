<!DOCTYPE HTML>
<html class="reftest-wait">
<title>A scroll timeline with a specified scroller for print</title>
<link rel="help" href="https://drafts.csswg.org/scroll-animations-1/#scroll-timelines">
<link rel="help" href="https://drafts.csswg.org/css-animations-2/#animation-timeline">
<meta name="assert" content="CSS animation correctly updates values when using a specified scroller">
<link rel="match" href="scroll-timeline-specified-scroller-ref.html">

<style>
  @keyframes anim {
    from { transform: translateX(0px); }
    to { transform: translateX(100px); }
  }

  #scroller {
    scroll-timeline: --timeline;
    overflow: scroll;
    width: 100px;
    height: 100px;
    scrollbar-width: none;
  }

  #contents {
    height: 200px;
  }

  #box {
    width: 100px;
    height: 100px;
    background-color: green;
    animation: anim 1s linear;
    animation-timeline: --timeline;
  }

  @supports not (animation-timeline:--timeline) {
    #box {
      animation-play-state: paused;
    }
  }
</style>

<div id="scroller">
  <div id="contents"></div>
  <div id="box"></div>
</div>

<script>
  window.addEventListener('load', function() {
    const scroller = document.getElementById("scroller");
    // Move the scroller to the halfway point.
    const maxScroll = scroller.scrollHeight - scroller.clientHeight;
    scroller.scrollTop = 0.5 * maxScroll;

    window.requestAnimationFrame(() => {
      document.documentElement.classList.remove("reftest-wait");
    });
  });
</script>
