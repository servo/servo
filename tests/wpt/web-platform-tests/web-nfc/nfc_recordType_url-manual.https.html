<!DOCTYPE html>
<meta charset=utf-8>
<title>Web NFC Test: push and watch url records</title>
<link rel="author" title="Intel" href="http://www.intel.com"/>
<link rel="help" href="https://w3c.github.io/web-nfc/"/>
<meta name="timeout" content="long">
<script src="/resources/testharness.js"></script>
<script src="/resources/testharnessreport.js"></script>
<script src="resources/nfc_help.js"></script>
<meta name="flags" content="interact">

<p>Tap an NFC tag to the test device with NFC support.</p>

<p>Note: All the actions need to be done in 60 seconds, otherwise it will get TIMEOUT.</p>

<div id="log"></div>

<script>

"use strict";

setup({ explicit_timeout: true });

let test_message_origin = window.location.href.origin;
let desc = "Test that nfc.push and nfc.watch succeed when recordType is set to 'url'.";
let watchOptions = {
  recordType: "url",
  mediaType: "text/plain",
  url: test_message_origin
}
let message = createMessage([createUrlRecord(test_url_data)]);

testNFCMessage(message, watchOptions, desc);

</script>
