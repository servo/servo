[package]

name = "servo_app"
version = "0.0.1"
authors = ["The Servo Project Developers"]
build = "build.rs"
publish = false

[[bin]]
name = "servo"
path = "main.rs"
test = false
doc = false
bench = false

[dev-dependencies]
image = "0.9"

[dev-dependencies.gfx_tests]
path = "../../tests/unit/gfx"

[dev-dependencies.layout_tests]
path = "../../tests/unit/layout"

[dev-dependencies.net_tests]
path = "../../tests/unit/net"

[dev-dependencies.net_traits_tests]
path = "../../tests/unit/net_traits"

[dev-dependencies.script_tests]
path = "../../tests/unit/script"

[dev-dependencies.style_tests]
path = "../../tests/unit/style"

[dev-dependencies.util_tests]
path = "../../tests/unit/util"

[dev-dependencies.compiletest_helper]
path = "../../tests/compiletest/helper"

[dev-dependencies.plugin_compiletest]
path = "../../tests/compiletest/plugin"

[dependencies.webrender_traits]
git = "https://github.com/servo/webrender_traits"

[dependencies.webrender]
git = "https://github.com/servo/webrender"

[dependencies.servo]
path = "../../components/servo"

[dependencies.glutin_app]
path = "../../ports/glutin"
optional = true

[features]
default = ["glutin_app"]
energy-profiling = ["servo/energy-profiling"]

[profile.release]
opt-level = 3
codegen-units = 4
# Uncomment to profile on Linux:
# debug = true
# lto = false

[dependencies.android_glue]
version = "0.1.3"
optional = true

[dependencies.log]
version = "0.3"
features = ["release_max_level_info"]

[target.arm-linux-androideabi.dependencies.gaol]
git = "https://github.com/servo/gaol"

[target.x86_64-apple-darwin.dependencies.gaol]
git = "https://github.com/servo/gaol"

[target.x86_64-unknown-linux-gnu.dependencies.gaol]
git = "https://github.com/servo/gaol"

[target.i686-unknown-linux-gnu.dependencies.gaol]
git = "https://github.com/servo/gaol"

[target.arm-unknown-linux-gnueabihf.dependencies.gaol]
git = "https://github.com/servo/gaol"

[target.aarch64-unknown-linux-gnu.dependencies.gaol]
git = "https://github.com/servo/gaol"

[dependencies.ipc-channel]
git = "https://github.com/servo/ipc-channel"

[dependencies.layers]
git = "https://github.com/servo/rust-layers"
features = ["plugins"]

[dependencies.gleam]
version = "0.2"

[dependencies.browserhtml]
git = "https://github.com/browserhtml/browserhtml"
branch = "gh-pages"

[dependencies]
bitflags = "0.3"
env_logger = "0.3"
euclid = {version = "0.6.4", features = ["plugins"]}
libc = "0.2"
offscreen_gl_context = "0.1.2"
url = {version = "0.5.7", features = ["heap_size", "serde_serialization", "query_encoding"]}
