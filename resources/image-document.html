<!DOCTYPE html>
<html>
  <head>
    <title></title>
    <style>
      html,
      body {
        background-color: white;
        margin: 0;
        width: 100%;
        height: 100%;
      }

      body {
        display: flex;
        justify-content: center;
        align-items: center;
      }

      body.zoomed-in img {
        cursor: zoom-out;
      }

      body.zoomed-out img {
        cursor: zoom-in;
        max-width: 100vw;
        max-height: 100vh;
      }

      img {
        /* Creates a checkerboard background for transparent images */
        background: repeating-conic-gradient(#ccc 0% 25%, white 0% 50%);
        background-size: 40px 40px;
      }
    </style>
    <script>
      // true if we try to adjust the image size to fit the viewport,
      // false if we let it scroll when it's larger.
      var adjustSize = true;

      var img;

      function configureImage() {
        const body = document.body;
        body.classList.remove("zoomed-in");
        body.classList.remove("zoomed-out");

        if (
          img.naturalWidth > window.innerWidth ||
          img.naturalHeight > window.innerHeight
        ) {
          body.classList.add(adjustSize ? "zoomed-out" : "zoomed-in");
        }
      }

      document.addEventListener("DOMContentLoaded", () => {
        img = document.body.firstElementChild;
        window.onresize = img.onload = configureImage;

        img.onclick = () => {
          adjustSize = !adjustSize;
          configureImage();
        };

        img.src = location.href;

        // Set the page title based on the image url.
        try {
          const path = location.pathname;
          const segments = path.split('/');
          document.title = segments.pop() || url.toString();
        } catch (error) {
          console.error('Invalid URL:', error);
        }
      });
    </script>
  </head>
  <body><img src="#"></body>
</html>
